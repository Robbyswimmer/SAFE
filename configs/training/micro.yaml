# Micro Training Configuration
# For ultra-fast debugging and pipeline validation
name: "micro"
description: "Ultra-fast training for debugging and pipeline validation"

# Training parameters
num_epochs: 2
batch_size: 2
gradient_accumulation_steps: 1

# Learning rates
learning_rate_projector: 1e-4
learning_rate_adapter: 5e-5
weight_decay: 0.01
warmup_steps: 10  # Very short warmup
max_grad_norm: 1.0

# Evaluation settings
eval_every_n_epochs: 1
max_eval_batches: 5  # Limit evaluation to 5 batches max
validation_frequency: 1

# Loss weights  
audio_loss_weight: 1.0
retention_loss_weight: 1.0
distillation_temperature: 3.0
fisher_weight: 0.1
retention_tolerance: 0.01  # 1% tolerance for micro tests
audio_contrastive_weight: 0.0
audio_contrastive_temperature: 0.07
audio_contrastive_answer_max_length: 48
audio_contrastive_metric_weight: 0.0
audio_contrastive_negative_threshold: 0.0
audio_contrastive_max_negatives: 0
audio_num_beams: 1
audio_num_return_sequences: 1
audio_num_samples: 0
audio_sample_top_p: 0.9
audio_sample_temperature: 1.0
audio_length_penalty: 1.0
audio_rerank_with_clap: false
audio_rerank_logprob_weight: 1.0
audio_rerank_clap_weight: 0.0
audio_rerank_ngram_weight: 0.0
audio_rerank_coverage_weight: 0.0
audio_rerank_cider_weight: 0.0
audio_rerank_spider_weight: 0.0
audio_rerank_tag_vocab: null
audio_rerank_num_tags: 0
audio_rerank_tag_weight: 0.0

# Logging and saving
logging_steps: 5
save_steps: 50  # Save frequently for debugging
early_stopping_patience: 10

# Performance
expected_runtime_minutes: 5
compute_requirements: "minimal"
